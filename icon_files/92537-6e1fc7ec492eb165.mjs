(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92537],{391254:(e,t,i)=>{i.d(t,{Z:()=>o});i(441143);var s=i(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:i,...o}=e,n=String(t||"")||i||"";return!!n?(0,s.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(r.factory(n))}}):null}},941646:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(883119),r=i(785893);function o(e){const{children:t,display:i,id:o}=e;return(0,r.jsx)(s.xu,{"data-test-id":o,display:i,children:t})}},407043:(e,t,i)=>{i.d(t,{B:()=>l,v:()=>a});var s=i(385740),r=i(425288),o=i(785893);const{Provider:n,useHook:a}=(0,r.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:i}=(0,s.sV)();return t.injectSetViewContextDataFromHook=i,(0,o.jsx)(n,{value:t,children:e})}},112690:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(407043);const r=()=>(0,s.v)().logContextEvent},385740:(e,t,i)=>{i.d(t,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>a});var s=i(667294),r=i(425288),o=i(785893);const{Provider:n,useHook:a}=(0,r.Z)("View");let l;function d(){return l}function c({children:e,initialState:t={}}){const[i,r]=(0,s.useState)(t),a=(0,s.useCallback)((()=>{l={},r({})}),[]),d=(0,s.useCallback)((e=>{l={...l,...e},r((t=>({...t,...e})))}),[]),c=(0,s.useMemo)((()=>({viewContextData:i,clearViewContextData:a,setViewContextData:d})),[i,d,a]);return(0,o.jsx)(s.Fragment,{children:(0,o.jsx)(n,{value:c,children:e})})}function u(){const{viewContextData:e}=a();return e}},375571:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(667294),r=i(172071),o=i(395164);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends s.Component{constructor(...e){super(...e),n(this,"state",{error:null,info:null}),n(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,i=this.props.type||"secondary";(0,o.T)({errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),r.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){r.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,i)=>{i.d(t,{Z:()=>s});const s=i(375571).Z},116303:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(883119),r=i(785893);const o=(e,t)=>{const i=null==e?void 0:e.includes("images/user/default");return Boolean(i&&t)};function n({accessibilityLabel:e,name:t,outline:i,size:n,src:a,verified:l}){return(0,r.jsx)(s.qE,{accessibilityLabel:e,name:t,outline:i,size:n,src:o(a,t)?void 0:a,verified:l})}},499128:(e,t,i)=>{i.d(t,{UZ:()=>d,Vg:()=>l,ZP:()=>c});var s=i(667294),r=i(829407),o=i(50286),n=i(883119),a=i(785893);const l=200,d=({deviceType:e,hiding:t,visible:i})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",pointerEvents:"auto",...i?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...i&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function c({button:e,dataTestId:t,duration:i=2e3,href:c,iconThumbnail:u,imageUrl:p,onClick:h,onHide:m,openNewPage:g,text:v,thumbnailShape:b="square",variant:y="default"}){const _=(0,o.ZP)(),[x,f]=(0,s.useState)(!1),[w,T]=(0,s.useState)(!1),S=(0,s.useRef)(),I=()=>{f(!0),S.current=setTimeout(m,l)},j=()=>{S.current&&clearTimeout(S.current)},C=()=>{S.current=setTimeout(I,i)};(0,r.Z)((()=>(setTimeout((()=>T(!0)),100),C(),j)));const k="string"==typeof v?v:`${v[0]} ${v[1]}`,O=p?(0,a.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(n.Ee,{alt:k,fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}):void 0,P=(0,a.jsx)(n.FN,{button:e,text:v,thumbnail:null!=u?u:O,thumbnailShape:b,variant:y});return(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{...d({deviceType:_,hiding:x,visible:w})}},"data-test-id":null!=t?t:"toast",onMouseEnter:j,onMouseLeave:C,children:c?(0,a.jsx)(n.iP,{role:"link",href:c,onTap:({event:e})=>null==h?void 0:h(e),target:g?"blank":null,rounding:"pill",children:P}):P})}},12610:(e,t,i)=>{function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const r=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:l,[n.stopped]:l,[n.paused]:l,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){s(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),s(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),s(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),s(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(n.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(n.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*r,endTime:Date.now()*r,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case n.flushed:case n.paused:case n.exit:a[this.debugId]=!0}}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,i)=>{i.d(t,{Z:()=>h});var s=i(667294),r=i(973935),o=i(834911),n=i(124580),a=i(407043),l=i(802201),d=i(785893);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class p extends s.Component{constructor(e){super(e),c(this,"trackImpression",(()=>{try{this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),c(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:i,closeupNavigationType:s,componentType:r,contextLogData:o,elementType:n,impressionAuxFields:a,impressionType:l,loggingId:d,objectIdStr:c,slotIndex:p,trackCarousel:h,viewData:m,viewParameter:g,viewType:v,logContextEvent:b}=this.props,y=u[l],_=y.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0,f={endTime:e.endTime,[_]:d,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:i,...a,forcedExit:x};if(h||b({event_type:y.eventType,component:r,element:n,event_data:{[y.impressionType]:[f]},object_id_str:c,view_type:v,view_data:m||{},view_parameter:g,aux_data:{...o,closeup_navigation_type:s}}),t&&h){const{carousel_slots:e,index:i=0,id:s}=t;b({event_type:7352,component:r,event_data:{pinCarouselSlotImpressions:[{...f,carouselDataId:Number(s),carouselSlotId:(null==e?void 0:e[i])&&Number(e[i].id),slotIndex:i}]},object_id_str:c,view_type:v,view_data:m||{},view_parameter:g,aux_data:{...o}})}})),this.impressionsFramework=e.impressionsFramework||n.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return s.Children.only(this.props.children)}}function h(e){const{logContextEvent:t}=(0,a.v)(),{loggingId:i}=e,s=(0,l.AF)(),r=i?s[i]:{};return(0,d.jsx)(p,{...e,logContextEvent:t,carousel_data:r&&(0,o.Z)({carouselData:r.carousel_data,images:r.images,richMetadata:r.rich_metadata,richSummary:r.rich_summary})})}},124580:(e,t,i)=>{i.d(t,{Z:()=>s});const s=new(i(12610).ZP)},623568:(e,t,i)=>{i.d(t,{Js:()=>o,NK:()=>v,Nc:()=>b,VX:()=>n,Zt:()=>m,_J:()=>d,_Q:()=>r,cL:()=>p,dZ:()=>x,hb:()=>g,hy:()=>l,iR:()=>s,jL:()=>a,o:()=>y,pU:()=>_,rM:()=>h,sV:()=>c,sY:()=>u});const s=e=>!!e&&!!e.video_list,r=e=>!!e.promoted_is_lead_ad,o=(e,t)=>{let i=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(i=t.full_name),i},n=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,l=e=>!!e,d=e=>!!e.video_status&&5!==e.video_status,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!(e=>"pinstory"===e)(t),h=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,m=({link:e,mobileLink:t,origImageUrl:i,trackedLink:s})=>t||s||e||i||"",g=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function b(e){var t,i;return!s(e.videos)&&!l(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(i=t.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function y(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function _(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function x(e){var t,i;return!(null===(t=e.creator_analytics)||void 0===t||null===(i=t["30d_realtime"])||void 0===i||!i.is_realtime)}},391143:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(643913);function r({storyCategory:e,query:t,referringSource:i,bubbleId:r,storyId:o}){const n=[0,24,21,26].includes(e),a=(0,s.Z)({q:t,rs:i||void 0,b_id:r,source_id:o});return n?`/discover/article/${r}`:"/search/pins/"+(a?"?"+a:"")}},940882:(e,t,i)=>{i.d(t,{J:()=>s,Z:()=>r});const s=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(858142);const r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,s.Z)(r,e,t)},858791:(e,t,i)=>{i.d(t,{Z:()=>s});const s=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,i)=>{i.d(t,{Z:()=>s});const s=(e,t,i)=>t?t.replace(e,((e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:"")):""},66699:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(985913),r=i(858791);const o=(e,t)=>{const i={};return Object.keys(t).forEach((e=>{i[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,s.Z)(e,i)}},343341:(e,t,i)=>{i.d(t,{F9:()=>n,Zo:()=>r,nE:()=>o});var s=i(425288);const{Provider:r,Consumer:o,useHook:n}=(0,s.Z)("toastManagerContext")},829407:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(667294);const r=e=>{(0,s.useEffect)(e,[])}},802201:(e,t,i)=>{i.d(t,{AF:()=>a,S6:()=>l,_S:()=>d});var s=i(966338),r=i(425288),o=i(785893);const{Provider:n,useHook:a}=(0,r.Z)("Pins");function l(){const e=a();return t=>e[t]}function d({children:e}){const t=(0,s.useSelector)((({pins:e})=>e),s.shallowEqual);return(0,o.jsx)(n,{value:t,children:e})}},57636:(e,t,i)=>{i.d(t,{Z:()=>g});var s=i(667294),r=i(116303),o=i(63444),n=i(564194),a=i(391143),l=i(667976),d=i(66699),c=i(898781),u=i(19121),p=i(940882),h=i(883119),m=i(785893);function g({bubble:e,contextLogData:t,disableTabIndex:i,handleReport:g,height:v,imgSignature:b,isHovered:y,onClick:_,onMouseEnter:x,onMouseLeave:f,referringSource:w,searchBoxRenderStopwatch:T,showFlag:S,slotIndex:I,storyId:j,viewParameter:C,viewType:k,width:O}){const P=(0,c.ZP)(),E=(0,u.Z)(),{id:M,action:Z,cover_images:R,dominant_colors:D,identifier_icon_type:H,title:A,story_category:L,curator:N}=e,F=R&&R[0]?R[0]["280x280"]||R[0]["236x"]:void 0,z=(0,d.Z)(A&&A.format||"",A&&A.args||{}),V=D&&D.length?D[0]:"gray",B=(null==Z?void 0:Z.url)||(0,a.Z)({storyCategory:L,query:z,referringSource:w,bubbleId:M,storyId:j});return(0,m.jsx)(n.Z,{impressionAuxFields:{storyCategory:L,storyIdStr:j},impressionType:"Article",loggingId:M,viewType:k,viewParameter:C,slotIndex:I,contextLogData:{story_id:j,...t},children:(0,m.jsx)(o.Z,{backgroundColor:V,coverImage:F,disableTabIndex:i,height:v,id:M,isHovered:y,onClick:_,onMouseEnter:x,onMouseLeave:f,searchBoxRenderStopwatch:T,url:B,width:O,children:({isHovered:e})=>(0,m.jsxs)(s.Fragment,{children:[N&&26!==L&&(0,m.jsx)(h.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,m.jsx)(r.Z,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),H&&H!==p.J&&(0,m.jsx)(h.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(h.JO,{icon:(0,p.Z)(H),accessibilityLabel:P._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,m.jsx)(h.xu,{display:"flex",height:v,width:O||"100%",position:"absolute",top:!0,padding:3,alignItems:26===L?"end":"center",justifyContent:"center",children:(0,m.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[v>200?(0,m.jsx)(h.X6,{size:"500",align:"center",color:"light",children:z}):(0,m.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:z}),N&&26===L&&(0,m.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(r.Z,{outline:!0,size:"xs",src:N.image_small_url,name:N.full_name})}),(0,m.jsx)(h.xv,{size:"100",color:"light",children:N.full_name})]})]})}),E.isAuth&&E.isEmployee&&S?(0,m.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,m.jsx)(l.Z,{handleReport:g,imgSignature:b||"",isVisible:e})}):null]})})})}},63444:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(667294),r=i(883119),o=i(785893);const n={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"}};function a({backgroundColor:e,children:t,coverImage:i,disableTabIndex:a,height:l,id:d,isHovered:c,onClick:u,onMouseEnter:p,onMouseLeave:h,url:m,width:g,searchBoxRenderStopwatch:v}){var b,y;const[_,x]=(0,s.useState)(!1),f=()=>{p?p():x(!0)},w=()=>{h?h():x(!1)},T=c||_;return(0,o.jsx)(r.iP,{role:"link",href:m,onBlur:w,onMouseLeave:w,onFocus:f,onMouseEnter:f,onTap:()=>{null==u||u(d)},rounding:4,tabIndex:a?-1:void 0,children:(0,o.jsx)(r.zd,{rounding:4,width:g||"100%",height:l,children:null!=i&&i.url?(0,o.jsxs)(r.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(b=i.height)&&void 0!==b?b:1,naturalWidth:null!==(y=i.width)&&void 0!==y?y:1,onLoad:()=>{null==v||v.stop()},role:"presentation",src:i.url,children:[(0,o.jsx)(r.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:T?n.hoverOverlay:n.bubbleOverlay}}),"function"==typeof t?t({isHovered:T}):t]}):(0,o.jsx)(r.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:e}}})})})}},958155:(e,t,i)=>{i.d(t,{Z:()=>p});var s=i(667294);const r={backgroundColor:"transparent"},o={backgroundColor:"rgba(216, 216, 216, 0.37)"},n={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},a={outline:"0"};var l=i(883119),d=i(785893);function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends s.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,s=Object.freeze({height:e,width:e}),c={border:0,display:"block",background:"transparent",cursor:"pointer",...a},u={...s,...{...n,...r,...this.state.hovered?o:{}}};return(0,d.jsx)("button",{type:"button",style:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:u,children:(0,d.jsx)(l.xu,{rounding:"circle",children:(0,d.jsx)(l.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:i})})})})}}const p=u},667976:(e,t,i)=>{i.d(t,{Z:()=>g});var s=i(667294),r=i(958155),o=i(121151),n=i(6637),a=i(499128),l=i(844949),d=i(898781),c=i(343341),u=i(883119),p=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends s.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:i}=t.props;t.setState({showModal:!1});i((await n.ZP.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(a.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(s.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(r.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(o.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(u.xu,{children:[(0,p.jsx)(u.xu,{padding:5,children:(0,p.jsx)(u.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(u.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.EU,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"textType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.EU,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"imageType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})})]})}}function g(e){const t=(0,d.ZP)(),{reportImage:i}=(0,l.f)();return(0,p.jsx)(m,{...e,i18n:t,reportImage:i,toastManagerContext:(0,c.F9)()})}},844949:(e,t,i)=>{i.d(t,{X:()=>c,f:()=>d});var s=i(667294);function r(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var o=i(425288),n=i(623568),a=i(785893);const{Provider:l,useHook:d}=(0,o.Z)("ReportData");function c({children:e}){const[t,i]=(0,s.useReducer)(r,null),o=(0,s.useCallback)((()=>i({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,s.useCallback)(((e,t,s)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"aggregatedComment"}})),[]),c=(0,s.useCallback)(((e,t,s)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:s,type:"pin"}})),[]),u=(0,s.useCallback)(((e,t,s)=>{const{id:r,videos:o}=e,a=(0,n.VX)(e),l=(0,n.jL)(e);let d;if((0,n.iR)(o)&&o){const{video_list:e={}}=o,t=e[Object.keys(e)[0]];d=t&&t.duration}i({type:"REPORT_CONTENT_SHOW",payload:{id:r,isProduct:a,isPromoted:l,videoDuration:d,viewParameter:t,viewType:s,type:"pin"}})}),[]),p=(0,s.useMemo)((()=>({reportData:t,dismiss:o,reportComment:d,reportImage:c,reportPin:u})),[t,o,d,c,u]);return(0,a.jsx)(l,{value:p,children:e})}},395164:(e,t,i)=>{i.d(t,{T:()=>n,Z:()=>a});var s=i(226198),r=i(314880);const o=[];function n(e){let t;try{t=JSON.stringify({errorObj:e})}catch(l){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const i=(n={report_context:JSON.stringify({current_url:window.location.href,client_version:"f312faa"}),report_data:t},Object.keys(n).map((e=>e+"="+encodeURIComponent(n[e]))).join("&"));var n;const a=window.btoa(i);if(-1===o.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,r.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(s.fS)),e.send(i),o.push(a)}o.length>100&&o.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};n({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,i,s,r,o;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);n({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(i=null!==(s=null==a?void 0:a.lineno)&&void 0!==s?s:null==a?void 0:a.line)&&void 0!==i?i:null==a?void 0:a.lineNumber,column:null!==(r=null!==(o=null==a?void 0:a.column)&&void 0!==o?o:null==a?void 0:a.colno)&&void 0!==r?r:null==a?void 0:a.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92537-6e1fc7ec492eb165.mjs.map