(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[73465],{570469:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(683402),r=n(704115),s=n(115535),a=n(927955),i=n(966113),c=n(743413),u=n(867820),l=n(665219),_=n(330102),p=n(297507),d=n(3223);const g=({i18n:e,logContextEvent:t,requestContext:n})=>g=>{const{country:m,countryFromHostName:y,countryFromIp:h,facebookToken:b,inviteCode:f,locale:w,origin:v,referrerFromCookie:k,regionFromIp:M,unauthId:S,userAgent:{platform:Z}}=n,C={logContextEventType:e=>{t({event_type:e})},sendActiveUserPing:s.Z,registerUserContext:{facebookToken:b,inviteCode:f,locale:w,referrer:k,unauthId:S},onCorsHandshakeHost:i.Z.settings.CORS_HANDSHAKE_DOMAINS.includes(v),successWithoutTokenErrorMessage:e._('We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue.', ' - ', ' -- '),trackRegisterSuccess:()=>{(0,u.My)(`signup_referrer_module.${String((0,r.Z)().referrer||function(){const e=a.Z.instance.getState().ui.mainComponent.initial;return e?(0,o.Z)(e):null}())}`),"ios"===Z?(0,u.My)("signup_mweb.iphone_web"):"ipad"===Z?(0,u.My)("signup_mweb.ipad_web"):"android"===Z&&(0,u.My)("signup_mweb.android_web")}};return(0,d.c_)({country:m,countryFromHostName:y,countryFromIp:h})&&(0,p.yP)({id:c.Y7,eventCategory:"NewUsers",eventName:"Desktop"}),(0,d.$r)({country:m,countryFromHostName:y,countryFromIp:h,regionFromIp:M})&&(0,p.jw)({id:"flashtalking-d-reg",eventCategory:"NewUsers",eventName:"Desktop"}),(0,d.NR)(m,M)&&(0,p.EN)({pixelId:_.NS,eventCategory:"NewUsers",eventName:"Desktop"}),(0,d.Fc)({country:m,countryFromHostName:y,countryFromIp:h})&&(0,p.Be)({pixelId:_.Ks,eventCategory:"NewUsers",eventName:"Desktop"}),(0,l.Z)(g,C)}},665219:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(231486),r=n(376432),s=n(6637),a=n(704177),i=n(45169),c=n(81759),u=n(826067),l=n(957161),_=n(487116),p=n(584595),d=n(995146),g=n(867820),m=n(226198);let y=0;const h=(e,t)=>{var n,b,f;const w={...e},{onCorsHandshakeHost:v,registerUserContext:k,sendActiveUserPing:M,successWithoutTokenErrorMessage:S}=t,Z=(0,c.t_)(),C=null!==(n=null===(b=window)||void 0===b||null===(f=b.location)||void 0===f?void 0:f.search)&&void 0!==n?n:null,I=(0,u.mB)(C).utm_campaign;Z&&(w.visited_pages=Z),I&&(w.utm_campaign=I);const N=a.ZP.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(Z)w.visited_pages=Z;else if(N){const e=[];for(const t of N)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(w.visited_pages=JSON.stringify(e.concat(Z||[])))}w.user_behavior_data=(()=>{const e={};return["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach((t=>{const n=a.ZP.localStorage.getItem(t);n&&(e[t]=n)})),JSON.stringify(e)})();const E=e=>((0,_.D)("signup"),o.zN(m.Mq.name),o.zN(m.x2.name),M(),o.t8(m.Xh,"1"),(0,l.L_)("_lastVisitedPages"),((e,{logContextEventType:t,trackRegisterSuccess:n})=>{let o;switch(e.container){case"home_page":o=1750,(0,g.My)("signup_home_page");break;case"mweb_homepage":o=1750,(0,g.My)("signup_mweb_home_page");break;case"plain_signup_modal":o=1751,(0,g.My)("signup_plain_modal");break;case"closeup_signup_modal":o=1752,(0,g.My)("signup_closeup_modal");break;case"widescreen_signup_modal":o=1753,(0,g.My)("signup_widescreen_modal");break;case"pinit_button_landing":o=1755,(0,g.My)("signup_pinit_button_landing");break;case"inspired_banner":(0,g.My)("signup_inspired_banner");break;case"category_jump_banner":(0,g.My)("signup_category_jump_banner");break;case"send_pin_banner":o=1756,(0,g.My)("send_pin_banner");break;default:o=1754,(0,g.My)("signup_unknown_placement")}const r=e.container||"container_unknown";(0,g.My)(`signup.container.${r}`);const s=e.signupSource||"signupSource_unknown";(0,g.My)(`signup.source.${s}`),o&&t(o);const a=document.referrer;let c;c=a?a.indexOf("/t.co/")>-1?"twitter":a.indexOf("google.")>-1?"google":a.indexOf("bing.")>-1?"bing":a.indexOf("facebook.")>-1?"facebook":"other":"direct",n(),(0,g.De)({action:"signup",event:"success",referrer:c,type:(0,i.sR)(e)})})(w,t),e),x=e=>{e=(0,r.Z)(e);const{apiErrorCode:n}=e;n===p.tz&&((0,g.My)("multi_step_set_age_restrict_cookie"),o.t8(m.It,"1",(0,o.kZ)(m.It)));if((!n||[p.dO,p.cZ].includes(n))&&y<3)return(0,g.My)(`unauth_web.signup_retry_error.${String(n)}.${String(w.container)}`),y+=1,h(w,t);throw(0,g.De)({action:"signup",event:"fail",type:(0,i.sR)(w)}),e};if(!w.facebook_id&&!w.gplus_code&&!w.gplus_id_token&&!w.google_open_id_token&&!w.line_id_token&&Boolean(w.email)&&v){(0,g.My)("unauth_cross_domain_register_debugging_counter");const e=e=>{(0,g.My)(`web_cross_domain_register.${e}.${(0,i.sR)(w)}`)};return e("attempt"),(0,d.a$)(w,k).then((t=>{E(t);const n=t.data||"";if(n)return e("success_with_token"),(0,d.kv)(n,!0).then((t=>{e("success_token_exchanged")}),(t=>{throw e("success_token_not_exchanged"),t}));throw e("success_without_token"),new Error(S)}),(t=>{e("failure"),x(t)}))}return s.ZP.create("UserRegisterResource",w).callCreate().then((e=>E(e)),(e=>x(e)))},b=h},233211:(e,t,n)=>{n.d(t,{B$:()=>u,Cw:()=>a,I7:()=>c,c4:()=>i});var o=n(667294),r=n(425288);const s=(0,o.createContext)(null),a=()=>(0,o.useContext)(s),i=s.Provider,{Provider:c,useHook:u}=(0,r.Z)("DesktopCoreLogin")},713930:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(172071);function r(e,t){return new Promise(((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,o.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,o.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},524172:(e,t,n)=>{n.d(t,{M:()=>g,Z:()=>m});var o=n(667294),r=n(914772),s=n(366284),a=n(862624),i=n(50286),c=n(780280),u=n(425288),l=n(304930),_=n(83969),p=n(785893);const{Provider:d,useMaybeHook:g}=(0,u.Z)("GoogleSignInApi");function m({children:e,inDuplo:t}){const n=(()=>{const e=(0,i.HG)(),{checkExperiment:t}=(0,a.Y)();return!(0,l.Z)()||t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),u=(()=>{const{userAgent:e}=(0,c.B)(),{browserName:t,platform:n}=e,o=null!=t?t:"";return(0,s.G6)(o)||"ios"===n})(),g=(0,l.j)(),m=(0,o.useRef)("enabled_allow_duplicated_handlers"===g),y=(0,o.useRef)(null),h=(0,o.useRef)(new Set),b=(0,o.useRef)(new Set),f=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(n)h.current.clear(),b.current.clear();else{const e=e=>(0,r.Z)(e,{inDuplo:t,shouldLogAutologin:!0});window.onGoogleLibraryLoad=()=>{e({type:"loadScript",status:"success"});const t=(0,_.Fm)();e({type:"apiClient",valid:!!t}),t&&(f.current=t,b.current.forEach((e=>e(t))),b.current.clear(),(0,_.OY)({autoSelect:!0,itpSupport:u},(t=>{if(e({type:"response",valid:!!t}),!t)return;var n;if(m.current)return null===(n=y.current)||void 0===n||n.call(y,t),void h.current.forEach((e=>e(t)));if("SIGN_IN_WITH_GOOGLE_BUTTON"===(0,_.PL)(t.select_by)){const e=Array.from(h.current),n=e[e.length-1];n&&n(t)}else{var o;null===(o=y.current)||void 0===o||o.call(y,t)}})))};(async()=>{e({type:"loadScript",status:"start"});try{await(0,_.Px)({unsafe:!0})}catch(t){}})()}}),[n,t,u]);const w=(0,o.useRef)({ensureInit:(e,t)=>("button"===e?h.current.add(t):y.current=t,new Promise((e=>{f.current?e(f.current):b.current.add(e)}))),removeCallback:e=>{h.current.delete(e)}});return(0,p.jsx)(d,{value:w.current,children:e})}},83969:(e,t,n)=>{n.d(t,{Fm:()=>a,OY:()=>c,PL:()=>l,Px:()=>i,ru:()=>u});var o=n(713930),r=n(966113),s=n(867820);const a=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},i=e=>(0,o.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),c=({autoSelect:e,itpSupport:t},n)=>{var o;null===(o=a())||void 0===o||o.initialize({auto_select:null!=e&&e,client_id:r.Z.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},u=({buttonRef:e,isDesktop:t})=>{const n=a();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,s.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},l=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT"},914772:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(701563),r=n(867820);const s=(e,{inDuplo:t,shouldLogAutologin:n})=>{const s=e=>n&&(0,r.dy)({event:e,provider:"google"}),a=e=>n&&(0,o.RP)("google_autologin",e),i=e=>n&&(0,o.M3)("google_autologin",e),c=t?"mweb_google_one_tap":"unauth.google_one_tap";switch(e.type){case"loadScript":if("start"===e.status){const e=t?"mweb_unauth":"web_unauth";(0,r.My)(`${e}.gsi_script.start_dynamic_loading`),(0,r.My)(`${c}.load_script.attempt`),s("start"),s("load_script_start"),i("autoLoginGoogleStart")}else"success"===e.status?((0,r.My)(`${c}.load_script.success`),s("load_script_success")):((0,r.My)(`${c}.load_script.fail`),s("load_script_failure"));break;case"apiClient":e.valid?((0,r.My)(`${c}.sdk_exists`),s("initialize_library"),(0,r.My)(`${c}.initialize`),i("autoLoginGoogleInitEnd")):(a("noAccountFound"),s("global_object_not_found"));break;case"response":e.valid?s("receive_credential_response_from_provider"):a("noResponse");break;case"autologin":"start"===e.status?(s("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,r.My)(`${c}.select_by.auto`),(0,r.My)(`${c}.retrieve_credential.success`),(0,o.M3)("google_autologin","autoLoginGoogleEnd"),(0,o.PA)("google_autologin")):"success"===e.status?(s("pinterest_login_success"),s("end")):(s("pinterest_login_failure"),s("end"));break;case"oneTapPromptLoginAttempt":(0,r.NC)("press_google_one_tap"),(0,r.My)(`${c}.select_by.${e.selectBy}`),(0,r.My)(`${c}.retrieve_credential.success`),(0,o.PA)("google_autologin");break;case"promptNotification":const{type:n,reason:u}=(e=>{const t=e.getMomentType();switch(t){case"display":return{type:t,reason:e.isDisplayed()?"displayed":`not_displayed.${e.getNotDisplayedReason()}`};case"skipped":return{type:t,reason:e.getSkippedReason()};default:return{type:t,reason:e.getDismissedReason()}}})(e.notification);(0,r.My)(`${c}.${n}_moment.${u}`)}}},304930:(e,t,n)=>{n.d(t,{Z:()=>c,j:()=>i});var o=n(466225),r=n(19121),s=n(862624),a=n(50286);const i=()=>{const e=(0,a.HG)(),{checkExperiment:t}=(0,s.Y)(),{isAuth:n}=(0,r.Z)();return t((({isAuth:e,isDesktop:t})=>e?t?"auth_dweb_auth_google_sign_in_safe_mode":"auth_mweb_auth_google_sign_in_safe_mode":t?"unauth_dweb_auth_google_sign_in_safe_mode":"unauth_mweb_auth_google_sign_in_safe_mode")({isAuth:n,isDesktop:e})).group},c=()=>(0,o.Z)(i())},466225:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>e.startsWith("enabled")||e.startsWith("employee")},701563:(e,t,n)=>{n.d(t,{M3:()=>m,PA:()=>y,RP:()=>g,gq:()=>p});var o=n(729524),r=n(991067),s=n(543059),a=n(358864),i=n(558775),c=n(985271),u=n(638089),l=n(790348);const _={},p=(e,t)=>{t.forEach((t=>{_[t]=(({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,r.Z)())return null;const n={type:"stopwatch",name:e},s=[];let l=!0;return{abort:e=>{l&&(l=!1,(0,i.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{l&&s.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!l)return;l=!1;const e={type:"COMPLETE",traceId:(0,a.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,o.Z)(s),binaryAnnotationMap:(0,u.ng)({metricId:n,pwtStaticContext:t})};(0,i.Z)({metricId:n,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})}))},d=e=>_[e],g=(e,t)=>{const n=d(e);if(n)try{n.abort(t)}catch(o){(0,l.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},m=(e,t)=>{const n=d(e);n&&(n.annotate(t),(0,s.ZP)(`stopwatch_${e}_${t}`))},y=e=>{const t=d(e);if(t)try{t.stop()}catch(n){(0,l.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},729524:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,o)=>{const r=o?`${e}_${o+1}`:e;n={...n,[r]:t}}))})),n}},497997:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294);const r=(0,o.createContext)();var s=n(785893);function a({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const a=t||null;(0,o.useContext)(r);return(0,s.jsx)(o.Suspense,{fallback:a,children:e})}},683402:(e,t,n)=>{function o(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()}n.d(t,{Z:()=>o})},50286:(e,t,n)=>{n.d(t,{HG:()=>c,Mm:()=>r,Wb:()=>i,ZP:()=>u,ml:()=>a});var o=n(780280);function r(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const s=()=>r((0,o.B)()),a=()=>"phone"===s(),i=()=>"tablet"===s(),c=()=>"desktop"===s(),u=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73465-fab7b70c24ebb2d8.mjs.map