(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5805],{829932:n=>{n.exports=function(n,a){for(var e=-1,t=null==n?0:n.length,s=Array(t);++e<t;)s[e]=a(n[e],e,n);return s}},880531:(n,a,e)=>{var t=e(562705),s=e(829932),i=e(701469),r=e(733448),o=t?t.prototype:void 0,p=o?o.toString:void 0;n.exports=function n(a){if("string"==typeof a)return a;if(i(a))return s(a,n)+"";if(r(a))return p?p.call(a):"";var e=a+"";return"0"==e&&1/a==-Infinity?"-0":e}},479833:(n,a,e)=>{var t=e(880531);n.exports=function(n){return null==n?"":t(n)}},129291:(n,a,e)=>{e.d(a,{MH:()=>p,ad:()=>o,iN:()=>m});var t=e(7789),s=e(584992);const{Provider:i,useHook:r}=(0,s.Z)({name:"board_picker",v2LoggerMetricName:16,sampleRate:t.DQ?1:.1}),o=(n,a)=>{let e="unknown";null!=a&&a.includes("pin/")?e="PinCloseup":"/"===a?e="HomeFeed":"PinBookMarklet"===a&&(e="PinBookmarklet"),null==n||n.addBinaryAnnotation("source",e,"STRING")},p=i,m=r},584992:(n,a,e)=>{e.d(a,{Z:()=>N});var t=e(667294),s=e(425288),i=e(404646),r=e(729524),o=e(860273),p=e(169213),m=e(358864),c=e(558775),u=e(505771),d=e(985271),l=e(383434),b=e(453821),y=e(638089),g=e(607150),T=e(790348);const A=(0,l.X)("PwtStopwatch"),h=(n,a)=>{if(d.Z){if("start"===a.type&&!n.isTiming){const{name:e,startTime:t,navigationType:s}=a;return(0,T.A9)(`TIMING.${e}`),{isTiming:!0,name:e,isSampled:a.isSampled,startTime:"number"==typeof t?t:d.Z.now(),metricId:{type:"stopwatch",name:e,navigationType:s},pwtStaticContext:a.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId,spanNameUpdates:n.spanNameUpdates}}if(!n.isTiming){if(!a.bypassIsTimingCheck){const e=a.name||n.name;return A("ignoring action - stopwatch is not actively timing",a),(0,T.A9)(`WARN.${e}.noTiming.${a.type}`),n}A("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",a)}if("annotate"===a.type){const e=d.Z.now();return A(`adding annotation {${a.label}: ${e}}`),{...n,annotations:n.annotations.concat([{label:a.label,timestamp:e}])}}if("binaryAnnotate"===a.type)return A(`adding binary annotation {${a.name}: ${String(a.value)}}`),{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:a.value,type:a.annotationType}}};if("binaryAnnotateOperation"===a.type){const{value:e,type:t}=a.binaryAnnotationValueAndType;if(n.binaryAnnotations[a.name]){const s=n.binaryAnnotations[a.name].value||0;return A(`operating on binary annotation {\n          name: ${a.name}\n          pervious value: ${String(s)}\n          operand: ${String(e)}\n        }`),{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:e?a.operation(s,e):s,type:t}}}}return{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:e,type:t}}}}if("addSubspan"===a.type){A(`adding subspan {${a.name}}`);-1!==n.spans.findIndex((n=>n.name===a.name))&&A(`WARNING: adding duplicate subspan name {${a.name}}`);const e=a.id||(0,m.Z)();-1!==n.spans.findIndex((n=>n.id===e))&&A(`WARNING: adding duplicate subspan id {${a.name}: ${e}}`);let t=0;return a.startTime?t=a.startTime:n.startTime?t=n.startTime:A(`WARNING: adding subspan {${a.name}} without start time`),{...n,spans:[...n.spans,{name:a.name,id:e,startTime:t,endTime:a.endTime||1/0,annotationMap:{...a.annotations},binaryAnnotationMap:{...a.binaryAnnotations},parentId:a.parentId}]}}if("subspanStart"===a.type){var e;A(`starting subspan {${a.name}}`);-1!==n.spans.findIndex((n=>n.name===a.name))&&A(`WARNING: starting duplicate subspan name {${a.name}}`);const t=a.id||(0,m.Z)();-1!==n.spans.findIndex((n=>n.id===t))&&A(`WARNING: starting duplicate subspan id {${a.name}: ${t}}`);const s=a.parentName?null===(e=n.spans.find((n=>n.name===a.parentName)))||void 0===e?void 0:e.id:null;return{...n,spans:[...n.spans,{name:a.name,id:t,parentId:a.parentId||s,startTime:d.Z.now(),endTime:1/0,annotationMap:{...a.annotations},binaryAnnotationMap:{...a.binaryAnnotations}}]}}if("subspanStop"===a.type){if(A(`stopping subspan {${a.name}}`),!a.id){n.spans.reduce(((n,e)=>(e.name===a.name&&n.push(e),n)),[]).length>1&&(0,T.H)("duplicate_subspan_stop_name",{name:a.name,type:a.type})}const e=a.id?n.spans.findIndex((n=>n.id===a.id)):n.spans.findIndex((n=>n.name===a.name));return e>-1?(n.spans[e].endTime=d.Z.now(),a.annotations&&(n.spans[e].annotationMap={...n.spans[e].annotationMap,...a.annotations}),a.binaryAnnotations&&(n.spans[e].binaryAnnotationMap={...n.spans[e].binaryAnnotationMap,...a.binaryAnnotations})):(0,T.H)("invalid_subspan_stop_name",{name:a.name}),n}if("subspanUpdateName"===a.type){n.spans.reduce(((n,e)=>(e.name===a.currentName&&n.push(e),n)),[]).length>1&&(0,T.H)("duplicate_subspan_stop_name",{name:a.currentName,type:a.type});const e=n.spans.findIndex((n=>n.name===a.currentName));return e>-1?a.updateWhenStopwatchCompletes?n.spanNameUpdates=[...n.spanNameUpdates,{currentName:a.currentName,newName:a.newName}]:(A(`renaming subspan {${a.currentName}} to {${a.newName}}`),n.spans[e].name=a.newName):(0,T.H)("no_subspan_found_to_rename",{name:a.currentName}),n}if("stop"===a.type&&n.isTiming){const{startTime:e,metricId:t,pwtStaticContext:s,annotations:i,binaryAnnotations:p,isSampled:l,spans:T,traceId:h}=n;if(a.stopwatchPerformanceObserver&&a.stopwatchPerformanceObserver.disconnect(),l){const l=a.stopTime||d.Z.now(),I=[...T.map((a=>{a.endTime===1/0&&(a.endTime=l);const e=n.spanNameUpdates.findIndex((n=>a.name===n.currentName));return e>-1&&(A(`renaming subspan {${a.name}} to {${n.spanNameUpdates[e].newName}}`),a.name=n.spanNameUpdates[e].newName,n.spanNameUpdates=n.spanNameUpdates.filter((n=>n.newName!==a.name))),a}))];if(a.manualAndResourceSpans||0===T.length){const n=(0,m.Z)();I.push({name:"network_resources",id:n,startTime:e,endTime:l,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(a.customStopwatchBuffer||[]).map((a=>(0,u.Z)((0,b.p)(a,[]),n))).filter(Boolean))}const f="initial_app_load"===t.navigationType&&(0,o.Z)(),N={type:"COMPLETE",traceId:h,startTime:e,endTime:l,spans:I,annotationMap:{...(0,r.Z)(i),...(0,g.jh)("browser_",f?(0,g.D3)(f):{})},binaryAnnotationMap:(0,y.ng)({metricId:t,pwtStaticContext:s,binaryAnnotations:p,performanceResourceTimings:a.customStopwatchBuffer||[]})};(0,c.Z)({metricId:t,pwtStaticContext:s,result:N})}return{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("error"===a.type){const{error:e,stopwatchPerformanceObserver:t}=a;return e&&(0,T.H)(e),t&&t.disconnect(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("abort"===a.type&&n.isTiming){a.stopwatchPerformanceObserver&&a.stopwatchPerformanceObserver.disconnect();const{metricId:e,pwtStaticContext:t}=n,s=a.reason||"";return(0,c.Z)({metricId:e,pwtStaticContext:t,result:{type:"ABORT",reason:s}}),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}}return n},I=({name:n,sampleRate:a,navigationType:e,manualAndResourceSpans:s=!1})=>{const r=(0,i.N5)(),o=(0,t.useRef)([]),c=(0,t.useRef)(null),[u,d]=(0,t.useReducer)(h,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]});return r?{isTiming:u.isTiming,start:t=>{if(window.PerformanceObserver){const n=1e3;o.current=[],c.current=(0,p.Z)({entryTypes:["resource"]},(a=>{o.current=o.current.concat(a.getEntries()),o.current.length>n&&(o.current=o.current.slice(-n))}))}const s={type:"start",startTime:t,name:n,navigationType:e,pwtStaticContext:r,isSampled:!a||Math.random()<a};return d(s)},stop:n=>d({type:"stop",stopTime:n,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:o.current,manualAndResourceSpans:s}),error:n=>{d({type:"error",stopwatchPerformanceObserver:c.current,error:n})},abort:n=>d({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:o.current,reason:n}),annotate:(n,a,e=!1)=>d({type:"annotate",label:n,parentId:a,bypassIsTimingCheck:e}),binaryAnnotate:(n,a,e,t,s=!1)=>d({type:"binaryAnnotate",name:n,value:a,annotationType:e,parentId:t,bypassIsTimingCheck:s}),binaryAnnotateOperation:({name:n,binaryAnnotationValueAndType:a,operation:e,parentId:t,bypassIsTimingCheck:s=!1})=>d({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:a,operation:e,parentId:t,bypassIsTimingCheck:s}),addSubspan:({name:n,startTime:a,endTime:e,annotations:t={},binaryAnnotations:s={},parentId:i=null,id:r=null,bypassIsTimingCheck:o=!1})=>d({type:"addSubspan",name:n,startTime:a,endTime:e,annotations:t,binaryAnnotations:s,parentId:i,id:r,bypassIsTimingCheck:o}),subspanStart:({name:n,annotations:a={},binaryAnnotations:e={},parentId:t=null,parentName:s=null,id:i=null,bypassIsTimingCheck:r=!1})=>d({type:"subspanStart",name:n,annotations:a,binaryAnnotations:e,parentId:t,parentName:s,id:i,bypassIsTimingCheck:r}),subspanStop:({name:n,annotations:a,binaryAnnotations:e,id:t,parentId:s,bypassIsTimingCheck:i=!1})=>d({type:"subspanStop",name:n,annotations:a,binaryAnnotations:e,id:t,parentId:s,bypassIsTimingCheck:i}),subspanUpdateName:({currentName:n,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:t=!0})=>d({type:"subspanUpdateName",currentName:n,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:t}),getSpans:(n,a)=>u.spans.filter((e=>e[n]===a)),getTraceId:()=>u.traceId}:null};var f=e(785893);const N=({name:n,v2LoggerMetricName:a,sampleRate:e,abortOnUnloadOrClientNavigation:r=!0,navigationType:o,manualAndResourceSpans:p=!1})=>{const{Provider:m,useMaybeHook:c}=(0,s.Z)(`Stopwatch_${n}`);return{Provider:function({children:a}){const s=I({name:n,sampleRate:e,navigationType:o,manualAndResourceSpans:p}),c=(0,i.fM)(),u=c?c.time:0,d=(0,t.useRef)(!1),l=null==s?void 0:s.isTiming,b=(0,t.useCallback)((a=>{d.current?(d.current=!1,null==s||s.abort(a)):(0,T.A9)(`WARN.${n}.noTiming.abort`)}),[s]),y=(0,t.useCallback)(((n,a)=>{null==s||s.annotate(n,a)}),[s]),g=(0,t.useCallback)(((n,a,e,t)=>{null==s||s.binaryAnnotate(n,a,e,t)}),[s]),A=(0,t.useCallback)((({name:n,binaryAnnotationValueAndType:a,operation:e,parentId:t,bypassIsTimingCheck:i})=>{null==s||s.binaryAnnotateOperation({name:n,binaryAnnotationValueAndType:a,operation:e,parentId:t,bypassIsTimingCheck:i})}),[s]),h=(0,t.useCallback)((({name:n,startTime:a,endTime:e,annotations:t,binaryAnnotations:i,parentId:r,id:o,bypassIsTimingCheck:p})=>{null==s||s.addSubspan({name:n,startTime:a,endTime:e,annotations:t,binaryAnnotations:i,parentId:r,id:o,bypassIsTimingCheck:p})}),[s]),N=(0,t.useCallback)((({name:n,annotations:a,binaryAnnotations:e,parentId:t,parentName:i,id:r,bypassIsTimingCheck:o})=>{null==s||s.subspanStart({name:n,annotations:a,binaryAnnotations:e,parentId:t,parentName:i,id:r,bypassIsTimingCheck:o})}),[s]),_=(0,t.useCallback)((({name:n,annotations:a,binaryAnnotations:e,id:t,parentId:i,bypassIsTimingCheck:r})=>{null==s||s.subspanStop({name:n,annotations:a,binaryAnnotations:e,id:t,parentId:i,bypassIsTimingCheck:r})}),[s]),w=(0,t.useCallback)((({currentName:n,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:t})=>{null==s||s.subspanUpdateName({currentName:n,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:t})}),[s]),S=(0,t.useCallback)(((n,a)=>s?s.getSpans(n,a):[]),[s]),C=(0,t.useCallback)((()=>s?s.getTraceId():0),[s]),v=(0,t.useCallback)((a=>{d.current?(d.current=!1,null==s||s.error(a)):(0,T.A9)(`WARN.${n}.noTiming.error`)}),[s]),k=(0,t.useCallback)((n=>{d.current&&(null==s||s.abort("duplicated_init_stopwatch_action")),d.current=!0,null==s||s.start(n)}),[s]),x=(0,t.useCallback)((a=>{d.current?(d.current=!1,null==s||s.stop(a)):(0,T.A9)(`WARN.${n}.noTiming.stop`)}),[s]);(0,t.useEffect)((()=>()=>{r&&b("unloadOrClientNavigation")}),[u]);const R=(0,t.useMemo)((()=>({isTiming:l,abort:b,addAnnotation:y,addBinaryAnnotation:g,binaryAnnotationOperation:A,addSubspan:h,subspanStart:N,subspanStop:_,getSpans:S,getTraceId:C,updateSubspanName:w,stop:x,error:v,start:k})),[l,b,y,g,A,h,N,_,S,C,w,x,v,k]);return(0,f.jsx)(m,{value:R,children:a})},useHook:c}}},311560:(n,a,e)=>{e.d(a,{Z:()=>t});const t=n=>{switch(n){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},813171:(n,a,e)=>{e.d(a,{Z:()=>t});class t extends Error{constructor(...n){var a,e,t;super(...n),t="ServerResourceError",(e="name")in(a=this)?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t}static fromPlainObject(n,a){const e=new t;return n.message&&(e.message=n.message),n.message_detail&&(e.message_detail=n.message_detail),n.original_message&&(e.original_message=n.original_message),n.code&&(e.code=n.code),n.http_status&&(e.http_status=n.http_status),n.api_error_code&&(e.api_error_code=n.api_error_code),n.stack_trace&&(e.stack_trace=n.stack_trace),n.extra_data&&(e.extra_data=n.extra_data),n.request_identifier&&(e.request_identifier=n.request_identifier),a&&(e.data=a),e}toString(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}},149230:(n,a,e)=>{e.d(a,{Z:()=>s});var t=e(954931);const s=({url:n})=>!(!n||!n.match(/^https{0,1}:\/\//)||(0,t.Z)(n))},934523:(n,a,e)=>{e.d(a,{L1:()=>i,Rz:()=>p,WZ:()=>r,cI:()=>s,fe:()=>o,hu:()=>t});const t=64,s=80,i=22,r="HeaderContent",o=671,p={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/5805-977139ff3c24c026.mjs.map